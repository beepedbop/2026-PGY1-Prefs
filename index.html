<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Austin PGY1 Rotations</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
    margin: 0;
    padding: 20px;
  }
  h1 { text-align: center; }
  #rotationList {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 20px;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }
  .card {
    background-color: white;
    border-radius: 10px;
    padding: 10px 15px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    cursor: move;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .rank-input {
    width: 40px;
    font-weight: bold;
    text-align: center;
  }
  .card-content { flex: 1; white-space: pre-wrap; }
  button {
    display: block;
    margin: 20px auto;
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover { background-color: #0056b3; }
  .over { border: 2px dashed #007bff; }
</style>
</head>
<body>
<h1>PGY1 Rotation Ranker</h1>
<div id="rotationList"></div>
<button onclick="copyOrder()">ðŸ“‹ Copy Final Order</button>

<script>
const rotations = [
  '1	Austin ED	Surg 1 - Hepatobilliary	Rehab/Subacute WD12	Psych PAPU	Austin Gen Med',
'2	Austin Gen Med	Austin ED	Surg 4 - Colorectal	Spinal Medicine	Mildura Ed',
'3	Ortho	Austin Gen Med	Austin ED	Surg 4 - Colorectal	Radiology/LTU',
'4	Surg 1 - HPB	Mildura ED	Austin Gen Med	Austin ED	Spinal Medicine',
'5	Surg 4 - Colorectal	LTU	Cardiothoracic Surg	Austin Gen Med	Austin ED',
'6	Austin ED	Rheum	Mildura ED	Austin Gen Med	Surg 4 - Colorectal',
'7	Surg 3 - Upper GI	Austin ED	Rheum	Mildura ED	Austin Gen Med',
'8	Austin Gen Med	Cardiothoracic Surg	Austin ED	Geriatrics WD10	Ortho',
'9	ENT Surg	Austin Gen Med	Geriatrics WD10	Austin ED	Surg 4 - Colorectal',
'10	Mildura ED	Surg 1 - Hepatobilliary	Austin Gen Med	LTU	Austin ED',
'11	Austin ED	Echuca ED	Austin Gen Med	Surg 4 - Colorectal	Psych - APU',
'12	Surg 1 - HPB	Austin ED	Psych - PAPU	Austin Gen Med	Echuca Gen Med',
'13	Echuca Gen Med	Surg 3 - Upper GI	Austin ED	Psych EDU/MBU	Austin Gen Med',
'14	Austin Gen Med	Surg 1 - Hepatobilliary	Echuca Gen Med	Austin ED	Psych - APU',
'15	Ortho	Austin Gen Med	Surg 4 - Colorectal	Echuca Gen Med	Austin ED',
'16	Austin ED	Austin Gen Med	Surg 1 - HPB	Psych - APU	Gastro',
'17	Psych - PAPU	Austin ED	Austin Gen Med	Surg 4 - Colorectal	Geriatrics - WD10',
'18	Gastro	Ortho	Austin ED	Austin Gen Med	Surg 4 - Colorectal',
'19	Psych - APU	Rehab/Subacute - WD12	Surg 1 - HPB	Austin ED	Austin Gen Med',
'20	Austin Gen Med	Ortho	Spinal Medicine	Surg 2 - Breast	Austin ED',
'21	Austin ED	Gastro	Psych - APU	Surg 1 - HPB	Austin Gen Med',
'22	Austin Gen Med	Austin ED	Surg 1 - HPB	Psych - APU	Neuro',
'23	Ortho	Austin Gen Med	Austin ED	Rehab/Subacute - WD12	Surg 1 - HPB',
'24	Rheum	Ortho	Austin Gen Med	Austin ED	Psych - APU',
'25	Surg 3 - Upper GI	Psych - PAPU	Spinal Medicine	Austin Gen Med	Austin ED',
'26	Austin ED	Rehab/Subacute - WD11	Ortho	Austin Gen Med	Surg 2 - Breast',
'27	Surg 1 - HPB	Austin ED	Radiology/LTU	Ortho	Austin Gen Med',
'28	Austin Gen Med	Surg 4 - Colorectal	Austin ED	Neuro	ENT Surg',
'29	Surg 3 - Upper GI	Austin Gen Med	LTU	Austin ED	Ortho',
'30	Urology	Spinal Medicine	Austin Gen Med	Surg 1 - HPB	Austin ED',
'31	Austin ED	Geriatrics - WD10	Austin Gen Med	Gen Surg - TSC	Ortho',
'32	Psych - APU	Austin ED	Surg 4 - Colorectal	Austin Gen Med	LTU',
'33	Spinal Med	Surg 2 - Breast	Austin ED	Ortho	Austin Gen Med',
'34	Austin Gen Med	Surg 1 - Hepatobilliary	Psych - EDU/MBU	Austin ED	Rehab/ Subacute - WD12',
'35	Psych - APU	Austin Gen Med	Surg 3 - Upper GI	Geriatrics - WD10	Austin ED',
'36	Austin ED	Austin Gen Med	Psych - APU	Surg 1 - HPB	Geriatrics - WD10',
'37	Vasc Surg	Austin ED	Austin Gen Med	Radiology/LTU	Psych - EDU/MBU',
'38	Rehab/Subacute - WD12	ENT Surg	Austin ED	Austin Gen Med	Surg 1 - HPB',
'39	Rehab/Subacute - WD11	Psych - APU	Surg 3 - Upper GI	Austin ED	Austin Gen Med',
'40	Austin Gen Med	Surg 4 - Colorectal	Rehab/Subacute WD11	Urology	Austin ED',
'41	Austin ED	Surg 3 - Upper GI	Neuro	Psych - APU	Austin Gen Med',
'42	Austin Gen Med	Austin ED	Surg 1 - HPB	Neuro	ENT Surg',
'43	Surg 4 - Colorectal	Austin Gen Med	Austin ED	ENT Surg	Neuro',
'44	LTU	Psych - APU	Austin Gen Med	Austin ED	Surg 3 - Upper GI',
'45	Cardiothoracic Surg	Surg 3 - Upper GI	Neuro	Austin Gen Med	Austin ED',
'46	Austin ED	Neuro	Ortho	Austin Gen Med	Gen Surg - TSC',
'47	Neurology	Austin ED	Psych - APU	Surg 3 - Upper GI	Austin Gen Med',
'48	Austin Gen Med	Psych - APU	Austin ED	Rehab/Subacute - WD11	Surg 3 - Upper GI',
'49	Gen Surg TSC	Austin Gen Med	Geriatrics WD10	Austin ED	Vasc Surg',
'50	Geriatrics - WD10	ENT Surg	Austin Gen Med	Surg 3 - Upper GI	Austin ED',
'51	Austin ED	Urology	Austin Gen Med	Surg 1 - HPB	Spinal Medicine',
'52	Geriatrics - WD10	Austin ED	ENT Surg	Austin Gen Med	Surg 3 - Upper GI',
'53	Surg  2 - Breast	Spinal Medicine	Austin ED	Cardiothoracic Surg	Austin Gen Med',
'54	Austin Gen Med	Radiology/LTU	Ortho	Austin ED	Surg 1 - HPB',
'55	Psych - EDU/MBU	Austin Gen Med	Surg 3 - Upper GI	Spinal Medicine	Austin ED',
'56	Austin ED	Surg 4 - Colorectal	Mildura Gen Med	ENT Surg	Endocrinology',
'57	Radiology/LTU	Austin ED	Gen Surg - TSC	Vascular Surg	Miildura Gen Med',
'58	Neurology	Gen Surg - TSC	Austin ED	Mildura Gen Med	Cardiothoracic Surg',
'59	Mildura Gen Med	Psych - EDU/MBU	Gastro	Austin ED	Surg 1 - HPB',
'60	ENT Surg	Mildura Gen Med	Vasc Surg	Endocrinology	Austin ED',
'61	Echuca ED	Austin Gen Med	Urology	Surg 3 - Upper GI	Rehab/ Subacute - WD11',
'62	Spinal Med	Echuca ED	Austin Gen Med	Ortho	Psych - PAPU',
'63	Surg 1 - HPB	Geriatrics - WD10	Echuca ED	Austin Gen Med	Urology',
'64	Surg 4 - Colorectal	Neuro	ENT Surg	Echuca ED	Austin Gen Med',
'65	Austin Gen Med	Vasc Surg	Surg 2 - Breast	Gastro	Echuca ED',
];

const list = document.getElementById('rotationList');

// Create cards with rank input
function renderList() {
  list.innerHTML = '';
  rotations.forEach((text, idx) => {
    const card = document.createElement('div');
    card.classList.add('card');
    card.setAttribute('draggable', true);
    card.dataset.index = idx;

    const input = document.createElement('input');
    input.type = 'number';
    input.min = 1;
    input.max = rotations.length;
    input.value = idx + 1;
    input.className = 'rank-input';
    input.addEventListener('change', (e) => {
      const newIndex = parseInt(e.target.value) - 1;
      moveCard(idx, newIndex);
    });

    const content = document.createElement('div');
    content.className = 'card-content';
    content.textContent = text;

    card.appendChild(input);
    card.appendChild(content);
    list.appendChild(card);

    addDnDHandlers(card);
  });
}

// Move card to a new position (shifts others)
function moveCard(from, to) {
  if(to < 0) to = 0;
  if(to >= rotations.length) to = rotations.length - 1;
  const [moved] = rotations.splice(from, 1);
  rotations.splice(to, 0, moved);
  renderList();
}

let dragSrcEl = null;

function handleDragStart(e) {
  dragSrcEl = this;
  e.dataTransfer.effectAllowed = 'move';
  this.style.opacity = '0.4';
}

function handleDragOver(e) {
  e.preventDefault();
  this.classList.add('over');
}

function handleDragLeave() {
  this.classList.remove('over');
}

function handleDrop(e) {
  e.stopPropagation();
  const from = parseInt(dragSrcEl.dataset.index);
  const to = parseInt(this.dataset.index);
  if (dragSrcEl !== this) {
    moveCard(from, to);
  }
  this.classList.remove('over');
}

function handleDragEnd() {
  this.style.opacity = '1';
  document.querySelectorAll('.card').forEach(c => c.classList.remove('over'));
}

function addDnDHandlers(card) {
  card.addEventListener('dragstart', handleDragStart, false);
  card.addEventListener('dragover', handleDragOver, false);
  card.addEventListener('dragleave', handleDragLeave, false);
  card.addEventListener('drop', handleDrop, false);
  card.addEventListener('dragend', handleDragEnd, false);
}

// Copy final order
function copyOrder() {
  const order = Array.from(document.querySelectorAll('.card .card-content')).map(c => c.textContent.trim());
  navigator.clipboard.writeText(order.join('\n'));
  alert('Rotation order copied to clipboard!');
}

renderList();
</script>
</body>
</html>


